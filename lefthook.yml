# EXAMPLE USAGE:
#
#   Refer for explanation to following link:
#   https://github.com/evilmartians/lefthook/blob/master/docs/configuration.md
#
#
#
# FIXME: not working correctly for now
pre-push:
  exclude_tags:
    - disabled
  parallel: true
  commands:
    packages-audit:
      tags: frontend security
      run: pnpm audit

pre-commit:
  exclude_tags:
    - disabled
  parallel: true
  commands:
    frontend-lint-staged:
      root: "client/"
      run: pnpm --filter "@th/web" lint-staged
    prettier:
      tags: frontend
      root: "client/"
      glob: "*.{js,ts,jsx,tsx,scss,css,json,md,yml,yaml}"
      run: pnpm --filter "@th/web" prettier --write {staged_files}
    eslint:
      tags: frontend
      root: "client/"
      glob: "*.{js,ts,jsx,tsx}"
      run: pnpm --filter "@th/web" eslint --fix {staged_files}
    stylelint:
      root: "client/"
      tags: frontend
      glob: "*.{scss,css}"
      run: pnpm --filter "@th/web" stylelint --fix {staged_files}
    commitzen:
      interactive: true
