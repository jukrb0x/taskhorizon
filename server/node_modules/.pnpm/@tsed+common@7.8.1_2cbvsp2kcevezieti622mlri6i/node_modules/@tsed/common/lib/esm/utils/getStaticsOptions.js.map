{"version":3,"file":"getStaticsOptions.js","sourceRoot":"","sources":["../../../src/utils/getStaticsOptions.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,QAAQ,EAAC,MAAM,YAAY,CAAC;AAGpC,SAAS,UAAU,CAAC,OAAY;IAC9B,MAAM,IAAI,GAA2B,OAAO,OAAO,KAAK,QAAQ,CAAC,CAAC,CAAC,EAAC,IAAI,EAAE,OAAO,EAAC,CAAC,CAAC,CAAC,OAAO,CAAC;IAC7F,OAAO;QACL,GAAG,IAAI;QACP,IAAI,EAAE,QAAQ,CAAC,IAAI,EAAE,MAAM,EAAE,kBAAkB,CAAC;KACjD,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,iBAAiB,CAAC,OAAiC;IACjE,OAAO,MAAM,CAAC,OAAO,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,EAAE;QACrE,EAAE,CAAC,MAAM,CAAC,KAAY,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YAC1C,OAAO,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,OAAO,EAAE,UAAU,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;QAEH,OAAO,OAAO,CAAC;IACjB,CAAC,EAAE,EAAuD,CAAC,CAAC;AAC9D,CAAC","sourcesContent":["import {getValue} from \"@tsed/core\";\nimport {PlatformStaticsOptions, PlatformStaticsSettings} from \"../config/interfaces/PlatformStaticsSettings\";\n\nfunction mapOptions(options: any): any {\n  const opts: PlatformStaticsOptions = typeof options === \"string\" ? {root: options} : options;\n  return {\n    ...opts,\n    hook: getValue(opts, \"hook\", \"$afterRoutesInit\")\n  };\n}\n\nexport function getStaticsOptions(statics?: PlatformStaticsSettings): {path: string; options: PlatformStaticsOptions}[] {\n  return Object.entries(statics || {}).reduce((statics, [path, items]) => {\n    [].concat(items as any).forEach((options) => {\n      statics.push({path, options: mapOptions(options)});\n    });\n\n    return statics;\n  }, [] as {path: string; options: PlatformStaticsOptions}[]);\n}\n"]}