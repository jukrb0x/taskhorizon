{"version":3,"file":"locals.js","sourceRoot":"","sources":["../../../src/decorators/locals.ts"],"names":[],"mappings":";;;AAAA,qDAAgD;AAChD,gEAA2D;AAC3D,yCAAoC;AA4CpC,SAAgB,MAAM,CAAC,GAAG,IAAW;IACnC,MAAM,EAAC,UAAU,EAAE,OAAO,EAAE,SAAS,GAAG,KAAK,EAAE,aAAa,GAAG,KAAK,EAAC,GAAG,IAAA,mCAAgB,EAAC,IAAI,CAAC,CAAC;IAE/F,OAAO,IAAA,mBAAQ,EAAC;QACd,SAAS,EAAE,uBAAU,CAAC,MAAM;QAC5B,UAAU;QACV,OAAO;QACP,SAAS;QACT,aAAa;KACd,CAAC,CAAC;AACL,CAAC;AAVD,wBAUC","sourcesContent":["import {ParamTypes} from \"../domain/ParamTypes\";\nimport {mapParamsOptions} from \"../utils/mapParamsOptions\";\nimport {UseParam} from \"./useParam\";\n\n/**\n * Locals return the value from [response.locals](http://expressjs.com/en/4x/api.html#res.locals) object.\n *\n * ::: tip\n * Locals are generally used by express and third-party like templating engine to render a page/template.\n * See [Templating](http://tsed.io/tutorials/templating.html) section for more details.\n * :::\n *\n * #### Example\n *\n * ```typescript\n *  * @Middleware()\n * class LocalsMiddleware {\n *   use(@Locals() locals: any) {\n *      // set some on locals\n *      locals.user = \"user\"\n *   }\n * }\n *\n * @Controller('/')\n * @UseBefore(LocalsMiddleware)\n * class MyCtrl {\n *    @Get('/')\n *    @View('home.ejs') // will use locals and returned data to render the page\n *    get(@Locals('user') user: any) {\n *       console.log('user', user);\n *\n *       return {\n *         description: 'Hello world'\n *       }\n *    }\n * }\n * ```\n *\n * @param expression The path of the property to get.\n * @decorator\n * @operation\n * @input\n * @response\n */\nexport function Locals(expression: string): ParameterDecorator;\nexport function Locals(): ParameterDecorator;\nexport function Locals(...args: any[]): ParameterDecorator {\n  const {expression, useType, useMapper = false, useValidation = false} = mapParamsOptions(args);\n\n  return UseParam({\n    paramType: ParamTypes.LOCALS,\n    expression,\n    useType,\n    useMapper,\n    useValidation\n  });\n}\n"]}