{"version":3,"file":"TwigEngine.js","sourceRoot":"","sources":["../../../src/components/TwigEngine.ts"],"names":[],"mappings":";;;;AAAA,yDAAoD;AACpD,qCAA+C;AAG/C,IAAa,UAAU,GAAvB,MAAa,UAAW,SAAQ,eAAM;IAC1B,aAAa,CAAC,QAAgB,EAAE,OAAY;QACpD,OAAO;YACL,GAAG,OAAO;YACV,IAAI,EAAE,QAAQ;YACd,mBAAmB,EAAE,OAAO,CAAC,mBAAmB;YAChD,UAAU,EAAE,OAAO,CAAC,UAAU;YAC9B,IAAI,EAAE,OAAO,CAAC,IAAI;SACnB,CAAC;IACJ,CAAC;IAES,QAAQ,CAAC,QAAgB,EAAE,OAAsB;QACzD,MAAM,EAAC,IAAI,EAAE,MAAM,EAAC,GAAG,IAAI,CAAC,MAAM,CAAC;QACnC,OAAO,CAAC,IAAI,GAAG,QAAQ,CAAC;QAExB,MAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;QAEhC,OAAO,CAAC,OAAsB,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAC7D,CAAC;CACF,CAAA;AAnBY,UAAU;IADtB,IAAA,uBAAU,EAAC,MAAM,CAAC;GACN,UAAU,CAmBtB;AAnBY,gCAAU","sourcesContent":["import {ViewEngine} from \"../decorators/viewEngine\";\nimport {Engine, EngineOptions} from \"./Engine\";\n\n@ViewEngine(\"twig\")\nexport class TwigEngine extends Engine {\n  protected $cacheOptions(template: string, options: any) {\n    return {\n      ...options,\n      data: template,\n      allowInlineIncludes: options.allowInlineIncludes,\n      namespaces: options.namespaces,\n      path: options.path\n    };\n  }\n\n  protected $compile(template: string, options: EngineOptions) {\n    const {twig: engine} = this.engine;\n    options.data = template;\n\n    const compile = engine(options);\n\n    return (options: EngineOptions) => compile.render(options);\n  }\n}\n"]}