"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MarkoEngine = void 0;
const tslib_1 = require("tslib");
const util_1 = require("util");
const viewEngine_1 = require("../decorators/viewEngine");
const Engine_1 = require("./Engine");
let MarkoEngine = class MarkoEngine extends Engine_1.Engine {
    $cacheOptions(template, options, fromFile) {
        options.writeToDisk = !!options.cache;
        if (!fromFile) {
            options.filename = options.filename || "string.marko";
        }
        return options;
    }
    async $compileFile(file, options) {
        const $cmp = this.engine.load(file, options);
        return (0, util_1.promisify)($cmp.renderToString.bind($cmp));
    }
    $compile(template, options) {
        const $cmp = this.engine.load(options.filename, template, options);
        return (0, util_1.promisify)($cmp.renderToString.bind($cmp));
    }
};
MarkoEngine = tslib_1.__decorate([
    (0, viewEngine_1.ViewEngine)("marko")
], MarkoEngine);
exports.MarkoEngine = MarkoEngine;
//# sourceMappingURL=MarkoEngine.js.map