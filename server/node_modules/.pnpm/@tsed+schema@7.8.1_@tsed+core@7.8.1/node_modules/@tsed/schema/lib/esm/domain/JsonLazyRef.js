import { nameOf } from "@tsed/core";
import { execMapper } from "../registries/JsonSchemaMapperContainer.js";
import { getJsonEntityStore } from "../utils/getJsonEntityStore.js";
export class JsonLazyRef {
    getType;
    isLazyRef = true;
    constructor(getType) {
        this.getType = getType;
    }
    get target() {
        return this.getType();
    }
    get schema() {
        return getJsonEntityStore(this.getType()).schema;
    }
    get name() {
        return nameOf(this.getType());
    }
    toJSON(options) {
        return this.getType() && execMapper("schema", this.schema, options);
    }
}
//# sourceMappingURL=JsonLazyRef.js.map