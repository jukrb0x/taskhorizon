{"version":3,"file":"deprecated.js","sourceRoot":"","sources":["../../../../src/decorators/operations/deprecated.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,iBAAiB,EAAE,eAAe,EAAE,cAAc,EAAE,wBAAwB,EAAC,MAAM,YAAY,CAAC;AACxG,OAAO,EAAC,YAAY,EAAC,MAAM,wBAAwB,CAAC;AAIpD;;;;;;;;;;;;;;;;;;;;;GAqBG;AACH,MAAM,UAAU,UAAU,CAAC,aAAsB,IAAI;IACnD,OAAO,YAAY,CAAC,CAAC,KAAK,EAAE,IAAI,EAAE,EAAE;QAClC,QAAQ,eAAe,CAAC,IAAI,CAAC,EAAE;YAC7B,KAAK,cAAc,CAAC,MAAM;gBACxB,KAAK,CAAC,SAAU,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;gBACxC,MAAM;YACR,KAAK,cAAc,CAAC,KAAK;gBACvB,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC;gBACnD,MAAM;YACR,KAAK,cAAc,CAAC,KAAK;gBACtB,KAA4B,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;gBACtE,MAAM;YACR,KAAK,cAAc,CAAC,IAAI;gBACrB,KAA2B,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;gBAClE,MAAM;YAER;gBACE,MAAM,IAAI,wBAAwB,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;SACxD;IACH,CAAC,CAAC,CAAC;AACL,CAAC","sourcesContent":["import {decorateMethodsOf, decoratorTypeOf, DecoratorTypes, UnsupportedDecoratorType} from \"@tsed/core\";\nimport {JsonEntityFn} from \"../common/jsonEntityFn\";\nimport {JsonPropertyStore} from \"../../domain/JsonPropertyStore\";\nimport {JsonParameterStore} from \"../../domain/JsonParameterStore\";\n\n/**\n * Add deprecated metadata on the decorated element.\n *\n * ## Examples\n *\n * ```typescript\n *\n * @Deprecated()\n * class MyCtrl {\n *   @Deprecated()\n *   @Get(\"/\")\n *   method(){\n *   }\n * }\n * ```\n *\n * @param deprecated\n * @decorator\n * @swagger\n * @schema\n * @operation\n */\nexport function Deprecated(deprecated: boolean = true) {\n  return JsonEntityFn((store, args) => {\n    switch (decoratorTypeOf(args)) {\n      case DecoratorTypes.METHOD:\n        store.operation!.deprecated(deprecated);\n        break;\n      case DecoratorTypes.CLASS:\n        decorateMethodsOf(args[0], Deprecated(deprecated));\n        break;\n      case DecoratorTypes.PARAM:\n        (store as JsonParameterStore).parameter.set(\"deprecated\", deprecated);\n        break;\n      case DecoratorTypes.PROP:\n        (store as JsonPropertyStore).schema.set(\"deprecated\", deprecated);\n        break;\n\n      default:\n        throw new UnsupportedDecoratorType(Deprecated, args);\n    }\n  });\n}\n"]}