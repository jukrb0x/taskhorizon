{"version":3,"file":"alterOneOf.js","sourceRoot":"","sources":["../../../src/hooks/alterOneOf.ts"],"names":[],"mappings":";;;AAGA,SAAgB,UAAU,CAAC,GAAQ,EAAE,MAAkB,EAAE,OAA0B;IACjF,IAAI,GAAG,CAAC,KAAK,IAAI,OAAO,CAAC,MAAM,KAAK,KAAK,EAAE;QACzC,GAAG,GAAG,EAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,CAAC,KAAK,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC;KAClF;IAED,IAAI,CAAC,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,UAAU,CAAC,EAAE;QAC3E,OAAO,GAAG,CAAC,IAAI,CAAC;KACjB;IAED,OAAO,GAAG,CAAC;AACb,CAAC;AAVD,gCAUC","sourcesContent":["import type {JsonSchema} from \"../domain/JsonSchema\";\nimport type {JsonSchemaOptions} from \"../interfaces/JsonSchemaOptions\";\n\nexport function alterOneOf(obj: any, schema: JsonSchema, options: JsonSchemaOptions) {\n  if (obj.oneOf && options.groups !== false) {\n    obj = {...obj, oneOf: schema.$hooks.alter(\"oneOf\", obj.oneOf, [options.groups])};\n  }\n\n  if ((obj.oneOf || obj.allOf || obj.anyOf) && !(obj.items || obj.properties)) {\n    delete obj.type;\n  }\n\n  return obj;\n}\n"]}