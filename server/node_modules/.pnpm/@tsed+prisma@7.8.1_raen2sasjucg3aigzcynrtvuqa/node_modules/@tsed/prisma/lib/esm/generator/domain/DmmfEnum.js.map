{"version":3,"file":"DmmfEnum.js","sourceRoot":"","sources":["../../../../src/generator/domain/DmmfEnum.ts"],"names":[],"mappings":"AAGA,MAAM,OAAO,QAAQ;IACV,KAAK,CAAqB;IAC1B,SAAS,CAAkB;IAEpC,QAAQ,GAAG,IAAI,GAAG,EAAsC,CAAC;IAEzD,YAAY,EAAC,KAAK,EAAE,SAAS,EAA0D;QACrF,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC7B,CAAC;IAED,IAAI,IAAI;QACN,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;IACzB,CAAC;IAED,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;IAC/B,CAAC;IAED,MAAM,CAAC,QAAQ,CAAC,IAAmB,EAAE,QAAyC;QAC5E,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE,CAAC;QAEhD,OAAO,KAAK,CAAC,GAAG,CACd,CAAC,SAAS,EAAE,EAAE,CACZ,IAAI,QAAQ,CAAC;YACX,SAAS;YACT,KAAK,EAAE,QAAQ,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAkC;SACrE,CAAC,CACL,CAAC;IACJ,CAAC;IAED,MAAM,CAAC,UAAU,CAAC,IAAY;QAC5B,OAAO,GAAG,IAAI,EAAE,CAAC;IACnB,CAAC;IAED,QAAQ;QACN,OAAO,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;CACF","sourcesContent":["import {DMMF} from \"@prisma/generator-helper\";\nimport {ImportDeclarationStructure, StructureKind} from \"ts-morph\";\n\nexport class DmmfEnum {\n  readonly model: DMMF.DatamodelEnum;\n  readonly modelType: DMMF.SchemaEnum;\n\n  #imports = new Map<string, ImportDeclarationStructure>();\n\n  constructor({model, modelType}: {model: DMMF.DatamodelEnum; modelType: DMMF.SchemaEnum}) {\n    this.model = model;\n    this.modelType = modelType;\n  }\n\n  get name() {\n    return this.model.name;\n  }\n\n  get values() {\n    return this.modelType.values;\n  }\n\n  static getEnums(dmmf: DMMF.Document, enumsMap: Map<string, DMMF.DatamodelEnum>) {\n    const enums = dmmf.schema.enumTypes.model || [];\n\n    return enums.map(\n      (modelType) =>\n        new DmmfEnum({\n          modelType,\n          model: enumsMap.get(modelType.name) as unknown as DMMF.DatamodelEnum\n        })\n    );\n  }\n\n  static symbolName(name: string) {\n    return `${name}`;\n  }\n\n  toString() {\n    return DmmfEnum.symbolName(this.name);\n  }\n}\n"]}