"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.logToCurl = void 0;
const tslib_1 = require("tslib");
const url_parse_1 = tslib_1.__importDefault(require("url-parse"));
function logToCurl({ url, method, params, query, data, headers = {} }) {
    const request = (0, url_parse_1.default)(url, true);
    if (params) {
        request.set("query", Object.assign(params, query));
    }
    let curl = `curl -X ${method.toUpperCase()} '${request.toString()}'`;
    if (data) {
        curl += ` -d '${JSON.stringify(data)}'`;
    }
    curl += Object.entries(headers).reduce((curlHeaders, [key, value]) => `${curlHeaders} -H '${key}: ${value}'`, "");
    return curl;
}
exports.logToCurl = logToCurl;
//# sourceMappingURL=logToCurl.js.map